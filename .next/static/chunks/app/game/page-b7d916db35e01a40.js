(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[421],{7115:function(e,t,l){Promise.resolve().then(l.bind(l,1152))},1152:function(e,t,l){"use strict";l.r(t),l.d(t,{default:function(){return r}});var s=l(7437),i=l(2265);function n(e){let{onGameOver:t,gameOver:n}=e,a=(0,i.useRef)(null);return(0,i.useEffect)(()=>{let e=a.current;if(!e)return;let s=e.getContext("2d");if(!s)return;let i=()=>{e.width=window.innerWidth,e.height=window.innerHeight};i(),window.addEventListener("resize",i);let o="menu",r=0,c=parseInt(localStorage.getItem("slidingCubeHighScore")||"0"),d=!1,u=0,h={x:150,y:0,width:50,height:50,velocityY:0,isJumping:!1,canDoubleJump:!1,hasShield:!1,slowMoActive:!1,slowMoTimer:0},m=300,w=[],f=[],x=[],g=[],p=[],v={background:"#0d0221",player:"#00f6ff",playerGlow:"#00d4ff",playerShield:"#ffd700",obstacle:"#ff00c1",obstacleGlow:"#ff0080",ground:"#00f6ff",groundGlow:"#00d4ff",ui:"#ffffff",laser:"#ff0000",laserGlow:"#ff4444",laserCore:"#ffffff"},y=0,b=t=>{if(n)return;let l=t-y;y=t,u++,s.fillStyle=v.background,s.fillRect(0,0,e.width,e.height),"playing"===o?(S(l),D()):"menu"===o?G():"over"===o&&V(),requestAnimationFrame(b)},S=e=>{m+=2*e/1e3,j(e),N(e),C(e),E(e),A(e),M(e),"playing"===o&&I(),r+=Math.floor(e/16)},j=t=>{h.velocityY+=.8,h.y+=h.velocityY;let l=e.height-100;h.y+h.height>l&&(h.y=l-h.height,h.velocityY=0,h.isJumping=!1,h.canDoubleJump=!1),h.slowMoActive&&(h.slowMoTimer-=t,h.slowMoTimer<=0&&(h.slowMoActive=!1))},N=e=>{let t=h.slowMoActive?.5*m:m;w.forEach((l,s)=>{l.x-=t*e/1e3,l.x+l.width<0&&w.splice(s,1)}),u>60&&.01>Math.random()&&k()},C=e=>{f.forEach((t,l)=>{t.x+=t.velocityX,t.y+=t.velocityY,t.life-=e,t.life<=0&&f.splice(l,1)})},E=e=>{let t=h.slowMoActive?.5*m:m;x.forEach((l,s)=>{l.x-=t*e/1e3,l.x+l.width<0&&x.splice(s,1)}),.005>Math.random()&&T()},A=e=>{g.forEach((t,l)=>{if(t.life-=e,t.life>0)for(let e=0;e<3;e++)p.push({x:t.startX+Math.random()*(t.endX-t.startX),y:t.startY+Math.random()*(t.endY-t.startY),velocityX:(Math.random()-.5)*2,velocityY:(Math.random()-.5)*2,life:500,color:v.laser,size:3*Math.random()+1});t.life<=0&&g.splice(l,1)})},M=e=>{p.forEach((t,l)=>{t.x+=t.velocityX,t.y+=t.velocityY,t.life-=e,t.life<=0&&p.splice(l,1)})},k=()=>{let t=e.height-100,l=Math.random()>.5?60:30;w.push({x:e.width,y:t-l,width:30,height:l,type:l>40?"tall":"low"})},T=()=>{let t=e.height-100,l=["slowmo","shield","laser"],s=l[Math.floor(Math.random()*l.length)];x.push({x:e.width,y:t-50,width:30,height:30,type:s})},I=()=>{w.forEach((e,t)=>{h.x<e.x+e.width&&h.x+h.width>e.x&&h.y<e.y+e.height&&h.y+h.height>e.y&&(h.hasShield?(h.hasShield=!1,w.splice(t,1),R()):L())}),x.forEach((e,t)=>{h.x<e.x+e.width&&h.x+h.width>e.x&&h.y<e.y+e.height&&h.y+h.height>e.y&&(B(e.type),x.splice(t,1))})},B=t=>{switch(t){case"slowmo":h.slowMoActive=!0,h.slowMoTimer=5e3;break;case"shield":h.hasShield=!0;break;case"laser":let l=h.x+h.width/2,s=h.y+h.height/2,i=e.width+100,n=h.y+h.height/2;g.push({startX:l,startY:s,endX:i,endY:n,life:1e3,width:8});let a=[];w.forEach((e,t)=>{let l=!1;e.y<=s+4+5&&e.y+e.height>=s-4-5&&e.x>h.x&&(l=!0),l&&a.push(t)}),a.reverse().forEach(e=>{let t=w[e];for(let e=0;e<15;e++)f.push({x:t.x+t.width/2,y:t.y+t.height/2,velocityX:(Math.random()-.5)*15,velocityY:(Math.random()-.5)*15,life:1500,color:v.obstacle});w.splice(e,1)}),window.playLaserSound&&window.playLaserSound()}window.playCollectSound&&window.playCollectSound()},R=()=>{for(let e=0;e<10;e++)f.push({x:h.x+h.width/2,y:h.y+h.height/2,velocityX:(Math.random()-.5)*10,velocityY:(Math.random()-.5)*10,life:1e3,color:v.playerShield});window.playCollectSound&&window.playCollectSound()};async function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Anonymous",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Anonymous";if(!window.db){let{initializeApp:e}=await Promise.all([l.e(801),l.e(738)]).then(l.bind(l,738)),{getFirestore:t,collection:s,addDoc:i,serverTimestamp:n}=await Promise.all([l.e(358),l.e(801),l.e(628)]).then(l.bind(l,5978)),a=t(e({apiKey:"AIzaSyB0jYBTBZvGZO5ewu4YhsB8z40mVh7GgPs",authDomain:"cube-syndicate-leaderboard.firebaseapp.com",projectId:"cube-syndicate-leaderboard",storageBucket:"cube-syndicate-leaderboard.firebasestorage.app",messagingSenderId:"671324641744",appId:"1:671324641744:web:433beef3f3d536dd07c1d5",measurementId:"G-YVG98S5JJV"}));window.db=a,window.collection=s,window.addDoc=i,window.serverTimestamp=n}await window.addDoc(window.collection(window.db,"scores"),{score:e,playerName:t,walletAddress:s,timestamp:window.serverTimestamp()})}let L=()=>{"playing"!==o||(o="over",r>c&&(c=r,localStorage.setItem("slidingCubeHighScore",c.toString()),Y(c,"Anonymous","Anonymous")),d||(t(r,c),d=!0))},D=()=>{let t=e.height-100;s.fillStyle=v.ground,s.fillRect(0,t,e.width,e.height-t),s.shadowColor=v.groundGlow,s.shadowBlur=20,s.fillRect(0,t,e.width,5),s.shadowBlur=0,s.fillStyle=h.hasShield?v.playerShield:v.player,s.fillRect(h.x,h.y,h.width,h.height),s.shadowColor=h.hasShield?v.playerShield:v.playerGlow,s.shadowBlur=15,s.fillRect(h.x,h.y,h.width,h.height),s.shadowBlur=0,w.forEach(e=>{s.fillStyle=v.obstacle,s.fillRect(e.x,e.y,e.width,e.height),s.shadowColor=v.obstacleGlow,s.shadowBlur=10,s.fillRect(e.x,e.y,e.width,e.height),s.shadowBlur=0}),x.forEach(e=>{let t="#00f6ff";switch(e.type){case"slowmo":t="#4d94ff";break;case"shield":t="#ffd700";break;case"laser":t="#ff0000"}s.fillStyle=t,s.fillRect(e.x,e.y,e.width,e.height)}),f.forEach(e=>{s.fillStyle=e.color,s.globalAlpha=e.life/1e3,s.fillRect(e.x,e.y,4,4),s.globalAlpha=1}),g.forEach(e=>{let t=e.life/1e3;s.globalAlpha=t,s.strokeStyle=v.laserCore,s.lineWidth=e.width,s.lineCap="round",s.beginPath(),s.moveTo(e.startX,e.startY),s.lineTo(e.endX,e.endY),s.stroke(),s.strokeStyle=v.laser,s.lineWidth=e.width+4,s.shadowColor=v.laserGlow,s.shadowBlur=20,s.beginPath(),s.moveTo(e.startX,e.startY),s.lineTo(e.endX,e.endY),s.stroke(),s.shadowBlur=0,s.globalAlpha=1}),p.forEach(e=>{s.fillStyle=e.color,s.globalAlpha=e.life/500,s.shadowColor=v.laserGlow,s.shadowBlur=10,s.fillRect(e.x,e.y,e.size,e.size),s.shadowBlur=0,s.globalAlpha=1}),O()},O=()=>{s.fillStyle=v.ui,s.font="24px Inter",s.textAlign="left",s.fillText("Score: ".concat(r),20,40),s.fillText("High Score: ".concat(c),20,70),s.fillText("Speed: ".concat(Math.round(m)),20,100),h.hasShield&&s.fillText("SHIELD ACTIVE",20,130),h.slowMoActive&&s.fillText("SLOW MOTION",20,160)},G=()=>{s.fillStyle=v.ui,s.font="48px Inter",s.textAlign="center",s.fillText("SLIDING CUBE",e.width/2,e.height/2-100),s.font="24px Inter",s.fillText("Press SPACE to start",e.width/2,e.height/2),s.fillText("Press SPACE to jump (double jump available)",e.width/2,e.height/2+40)},V=()=>{s.fillStyle=v.ui,s.font="48px Inter",s.textAlign="center",s.fillText("GAME OVER",e.width/2,e.height/2-100),s.font="24px Inter",s.fillText("Final Score: ".concat(r),e.width/2,e.height/2),s.fillText("High Score: ".concat(c),e.width/2,e.height/2+40),s.fillText("Press SPACE to restart",e.width/2,e.height/2+80)},J=e=>{"Space"===e.code&&(e.preventDefault(),"menu"===o?(o="playing",window.playCollectSound&&window.playCollectSound()):"playing"===o?h.isJumping?h.canDoubleJump&&(h.velocityY=-12,h.canDoubleJump=!1):(h.velocityY=-15,h.isJumping=!0,h.canDoubleJump=!0):"over"===o&&(o="playing",r=0,m=300,w=[],f=[],x=[],g=[],p=[],h.x=150,h.y=0,h.velocityY=0,h.isJumping=!1,h.canDoubleJump=!1,h.hasShield=!1,h.slowMoActive=!1,h.slowMoTimer=0,d=!1,u=0))},P=e=>{e.preventDefault(),"menu"===o?(o="playing",window.playCollectSound&&window.playCollectSound()):"playing"===o?h.isJumping?h.canDoubleJump&&(h.velocityY=-12,h.canDoubleJump=!1):(h.velocityY=-15,h.isJumping=!0,h.canDoubleJump=!0):"over"===o&&(o="playing",r=0,m=300,w=[],f=[],x=[],g=[],p=[],h.x=150,h.y=0,h.velocityY=0,h.isJumping=!1,h.hasShield=!1,h.slowMoActive=!1,h.slowMoTimer=0,d=!1,u=0)};return document.addEventListener("keydown",J),e.addEventListener("touchstart",P),b(0),()=>{document.removeEventListener("keydown",J),e.removeEventListener("touchstart",P),window.removeEventListener("resize",i)}},[t,n]),(0,s.jsx)("canvas",{ref:a,id:"gameCanvas",style:{display:"block"}})}var a=l(7973);function o(e){let{musicVolume:t,sfxVolume:l,isPlaying:s}=e,n=(0,i.useRef)(null),a=(0,i.useRef)(null),o=(0,i.useRef)(null),r=(0,i.useRef)(null);return(0,i.useEffect)(()=>{n.current||(n.current=new(window.AudioContext||window.webkitAudioContext)),a.current||(a.current=new Audio("/assets/audio/music.mp3"),a.current.loop=!0,a.current.preload="auto"),o.current||(o.current=new Audio("/assets/audio/laserbraam.mp3"),o.current.preload="auto"),r.current||(r.current=new Audio("/assets/audio/itemcollect.mp3"),r.current.preload="auto"),a.current&&(a.current.volume=t/100),o.current&&(o.current.volume=l/100),r.current&&(r.current.volume=l/100),s&&a.current?a.current.play().catch(e=>{}):!s&&a.current&&(a.current.pause(),a.current.currentTime=0)},[s,t,l]),(0,i.useEffect)(()=>{a.current&&(a.current.volume=t/100),o.current&&(o.current.volume=l/100),r.current&&(r.current.volume=l/100)},[t,l]),(0,i.useEffect)(()=>(window.playLaserSound=()=>{o.current&&l>0&&(o.current.currentTime=0,o.current.play().catch(e=>{}))},window.playCollectSound=()=>{r.current&&l>0&&(r.current.currentTime=0,r.current.play().catch(e=>{}))},()=>{delete window.playLaserSound,delete window.playCollectSound}),[l]),null}function r(){let[e,t]=(0,i.useState)(!1),[l,r]=(0,i.useState)(0),[c,d]=(0,i.useState)(0),[u,h]=(0,i.useState)(0),[m,w]=(0,i.useState)(!0),[f,x]=(0,i.useState)(!1),[g,p]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,S]=(0,i.useState)(!1),[j,N]=(0,i.useState)(40),[C,E]=(0,i.useState)(80),[A,M]=(0,i.useState)(!0),[k,T]=(0,i.useState)(0),[I,B]=(0,i.useState)([]);(0,i.useEffect)(()=>{let e=localStorage.getItem("slidingCubeMusicVolume"),t=localStorage.getItem("slidingCubeSFXVolume"),l=localStorage.getItem("slidingCubeVisualEffects");e&&N(parseInt(e)),t&&E(parseInt(t)),l&&M("true"===l),window.innerWidth<768&&window.innerHeight<window.innerWidth&&S(!0)},[]);let R=()=>{x(!1),p(!1),w(!0)},Y=e=>{let t=document.createElement("div");t.className="toast",t.textContent=e;let l=document.getElementById("toastContainer");l&&(l.appendChild(t),setTimeout(()=>{t.remove()},3e3))};return(0,s.jsxs)("div",{className:"game-page",children:[(0,s.jsx)(a.Z,{}),(0,s.jsx)("canvas",{id:"gameCanvas"}),m&&(0,s.jsx)("div",{id:"mainMenu",className:"menu-overlay",children:(0,s.jsxs)("div",{className:"menu-container",children:[(0,s.jsxs)("div",{className:"menu-header",children:[(0,s.jsx)("h1",{className:"game-title",children:"SLIDING CUBE"}),(0,s.jsx)("div",{className:"title-glow"})]}),(0,s.jsxs)("div",{className:"menu-options",children:[(0,s.jsxs)("button",{id:"startGameBtn",className:"menu-btn primary-btn",onClick:()=>{t(!1),w(!1),x(!1),p(!1),h(e=>e+1)},children:[(0,s.jsx)("span",{className:"btn-text",children:"START GAME"}),(0,s.jsx)("div",{className:"btn-glow"})]}),(0,s.jsxs)("button",{id:"homeBtn",className:"menu-btn",onClick:()=>{window.location.href="/"},children:[(0,s.jsx)("span",{className:"btn-text",children:"HOME"}),(0,s.jsx)("div",{className:"btn-glow"})]}),(0,s.jsxs)("button",{id:"settingsBtn",className:"menu-btn",onClick:()=>{x(!0),w(!1),p(!1)},children:[(0,s.jsx)("span",{className:"btn-text",children:"SETTINGS"}),(0,s.jsx)("div",{className:"btn-glow"})]}),(0,s.jsxs)("button",{id:"donationBtn",className:"menu-btn",onClick:()=>{y(!0)},children:[(0,s.jsx)("span",{className:"btn-text",children:"SUPPORT"}),(0,s.jsx)("div",{className:"btn-glow"})]})]}),(0,s.jsx)("div",{className:"menu-footer",children:(0,s.jsx)("p",{className:"version-text",children:"v1.0.0"})})]})}),f&&(0,s.jsx)("div",{id:"settingsMenu",className:"menu-overlay",children:(0,s.jsxs)("div",{className:"menu-container",children:[(0,s.jsxs)("div",{className:"menu-header",children:[(0,s.jsx)("h2",{className:"menu-title",children:"SETTINGS"}),(0,s.jsx)("button",{id:"closeSettingsBtn",className:"close-menu-btn",onClick:R,children:"\xd7"})]}),(0,s.jsxs)("div",{className:"settings-content",children:[(0,s.jsxs)("div",{className:"setting-group",children:[(0,s.jsx)("label",{className:"setting-label",children:"MUSIC VOLUME"}),(0,s.jsx)("input",{type:"range",id:"musicVolume",className:"volume-slider",min:"0",max:"100",value:j,onChange:e=>N(parseInt(e.target.value))}),(0,s.jsxs)("span",{className:"volume-value",children:[j,"%"]})]}),(0,s.jsxs)("div",{className:"setting-group",children:[(0,s.jsx)("label",{className:"setting-label",children:"SFX VOLUME"}),(0,s.jsx)("input",{type:"range",id:"sfxVolume",className:"volume-slider",min:"0",max:"100",value:C,onChange:e=>E(parseInt(e.target.value))}),(0,s.jsxs)("span",{className:"volume-value",children:[C,"%"]})]}),(0,s.jsxs)("div",{className:"setting-group",children:[(0,s.jsx)("label",{className:"setting-label",children:"VISUAL EFFECTS"}),(0,s.jsxs)("div",{className:"toggle-container",children:[(0,s.jsx)("input",{type:"checkbox",id:"visualEffects",className:"toggle-input",checked:A,onChange:e=>M(e.target.checked)}),(0,s.jsx)("label",{htmlFor:"visualEffects",className:"toggle-label"})]})]})]}),(0,s.jsxs)("div",{className:"menu-actions",children:[(0,s.jsx)("button",{id:"saveSettingsBtn",className:"menu-btn primary-btn",onClick:()=>{localStorage.setItem("slidingCubeMusicVolume",j.toString()),localStorage.setItem("slidingCubeSFXVolume",C.toString()),localStorage.setItem("slidingCubeVisualEffects",A.toString()),R()},children:"SAVE"}),(0,s.jsx)("button",{id:"backToMainBtn",className:"menu-btn",onClick:R,children:"BACK"})]})]})}),g&&(0,s.jsx)("div",{id:"leaderboardMenu",className:"menu-overlay",children:(0,s.jsxs)("div",{className:"menu-container",children:[(0,s.jsxs)("div",{className:"menu-header",children:[(0,s.jsx)("h2",{className:"menu-title",children:"LEADERBOARD"}),(0,s.jsx)("button",{id:"closeLeaderboardBtn",className:"close-menu-btn",onClick:R,children:"\xd7"})]}),(0,s.jsxs)("div",{className:"high-score-content",children:[(0,s.jsx)("div",{className:"score-display",children:(0,s.jsxs)("div",{className:"current-score",children:[(0,s.jsx)("span",{className:"score-label",children:"YOUR BEST SCORE"}),(0,s.jsx)("span",{id:"currentHighScore",className:"score-value",children:k})]})}),(0,s.jsxs)("div",{className:"score-history",children:[(0,s.jsx)("h3",{children:"RECENT SCORES"}),(0,s.jsx)("div",{id:"scoreList",className:"score-list",children:I.map((e,t)=>(0,s.jsxs)("div",{className:"score-item",children:[(0,s.jsx)("span",{className:"score-value",children:e.score}),(0,s.jsx)("span",{className:"score-date",children:e.date})]},t))})]})]}),(0,s.jsxs)("div",{className:"menu-actions",children:[(0,s.jsx)("button",{id:"resetScoresBtn",className:"menu-btn danger-btn",onClick:()=>{localStorage.removeItem("slidingCubeHighScore"),localStorage.removeItem("slidingCubeScores"),T(0),B([]),Y("Scores reset successfully!")},children:"RESET SCORES"}),(0,s.jsx)("button",{id:"backFromLeaderboardBtn",className:"menu-btn",onClick:R,children:"BACK"})]})]})}),e&&(0,s.jsx)("div",{id:"gameOverMenu",className:"menu-overlay",children:(0,s.jsxs)("div",{className:"menu-container",children:[(0,s.jsx)("div",{className:"menu-header",children:(0,s.jsx)("h2",{className:"menu-title",children:"GAME OVER"})}),(0,s.jsxs)("div",{className:"game-over-content",children:[(0,s.jsxs)("div",{className:"final-score",children:[(0,s.jsx)("span",{className:"score-label",children:"FINAL SCORE"}),(0,s.jsx)("span",{id:"finalScore",className:"score-value",children:l})]}),(0,s.jsx)("div",{className:"score-comparison",children:(0,s.jsxs)("div",{className:"score-item",children:[(0,s.jsx)("span",{className:"score-label",children:"HIGH SCORE"}),(0,s.jsx)("span",{id:"gameOverHighScore",className:"score-value",children:c})]})}),l>c&&(0,s.jsx)("div",{id:"newRecordMessage",className:"new-record",children:(0,s.jsx)("span",{className:"record-text",children:"\uD83C\uDF89 NEW RECORD! \uD83C\uDF89"})})]}),(0,s.jsxs)("div",{className:"menu-actions",children:[(0,s.jsx)("button",{id:"playAgainBtn",className:"menu-btn primary-btn",onClick:()=>{t(!1),h(e=>e+1)},children:"PLAY AGAIN"}),(0,s.jsx)("button",{id:"mainMenuBtn",className:"menu-btn",onClick:()=>{t(!1),w(!0),x(!1),p(!1)},children:"MAIN MENU"})]})]})}),(0,s.jsx)("div",{id:"donationSection",className:"donation-section ".concat(v?"show":""),children:(0,s.jsxs)("div",{className:"donation-content",children:[(0,s.jsx)("button",{id:"closeDonationBtn",className:"close-btn",onClick:()=>{y(!1)},children:"\xd7"}),(0,s.jsx)("h3",{children:"Support the Developer"}),(0,s.jsx)("p",{children:"If you enjoy this game, consider supporting its development!"}),(0,s.jsxs)("div",{className:"wallet-container",children:[(0,s.jsx)("label",{className:"wallet-label",children:"ARENA:"}),(0,s.jsx)("input",{type:"text",id:"walletAddress",value:"0x922abf80ce0a08d17a0e308beb261e3c67eb0e1c",readOnly:!0}),(0,s.jsx)("button",{id:"copyBtn",className:"copy-btn",onClick:()=>{navigator.clipboard.writeText("0x922abf80ce0a08d17a0e308beb261e3c67eb0e1c"),Y("Wallet address copied to clipboard!")},children:"COPY"})]})]})}),(0,s.jsxs)("div",{id:"rotationIndicator",className:"rotation-indicator ".concat(b?"":"hidden"),children:[(0,s.jsx)("div",{className:"rotation-icon",children:(0,s.jsx)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)("path",{d:"M7 11L12 6L17 11M12 18V7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})}),(0,s.jsx)("span",{className:"rotation-text",children:"Rotate for better view"}),(0,s.jsx)("button",{className:"rotation-close-btn",onClick:()=>{S(!1)},children:"\xd7"})]}),(0,s.jsx)("div",{id:"toastContainer",className:"toast-container"}),(0,s.jsx)(o,{musicVolume:j,sfxVolume:C,isPlaying:!m&&!f&&!g&&!e}),!m&&!f&&!g&&!e&&(0,s.jsx)(n,{onGameOver:(e,l)=>{r(e),d(l),t(!0)},gameOver:e},u)]})}l(5751)},7973:function(e,t,l){"use strict";l.d(t,{Z:function(){return i}});var s=l(2265);function i(){return(0,s.useEffect)(()=>{window.currentAccount=null,window.walletConnected=!1,(async()=>{if(void 0!==window.ethereum)try{let e=await window.ethereum.request({method:"eth_accounts"});e.length>0&&(window.currentAccount=e[0],window.walletConnected=!0)}catch(e){window.currentAccount=null,window.walletConnected=!1}})(),"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{}).catch(e=>{})})},[]),null}},5751:function(){}},function(e){e.O(0,[659,971,117,744],function(){return e(e.s=7115)}),_N_E=e.O()}]);